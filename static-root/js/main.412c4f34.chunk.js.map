{"version":3,"sources":["reportWebVitals.js","lookup/components.js","stocks/detail.js","stocks/list.js","stocks/lookup.js","stocks/buttons.js","stocks/components.js","index.js"],"names":["reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","backendlookup","method","endpoint","callback","data","jsonData","JSON","stringify","xhr","XMLHttpRequest","url","responseType","csrftoken","name","cookieValue","document","cookie","cookies","split","i","length","trim","substring","decodeURIComponent","getCookie","open","setRequestHeader","onload","status","response","detail","window","location","href","indexOf","onerror","e","send","Stock","props","stock","ticker","StockList","useState","stocksInit","setStocksInit","stocks","setStocks","stocksDidSet","setStocksDidSet","useEffect","final","newStocks","concat","map","item","index","StockLink","ActionButton","isTracking","handleActionBackend","display","onClick","event","preventDefault","apiStockAction","StockDetailComponent","didLookup","setDidLookup","setStock","handleBackendLookup","console","log","alert","apiStockLookup","className","is_tracking","React","createElement","stocksListEl","getElementById","ReactDOM","render","dataset","stocksSearchEl","searchTerm","setSearchTerm","searchResults","setSearchResults","apiStockSearch","type","placeholder","value","onChange","target","querySelectorAll","forEach","container"],"mappings":"mLAYeA,G,MAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqBC,MAAK,YAAkD,IAA/CC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,Q,6BCSL,SAASQ,EAAcC,EAAQC,EAAUC,EAAUC,GACxD,IAAIC,EACAD,IACFC,EAAWC,KAAKC,UAAUH,IAE5B,IAAMI,EAAM,IAAIC,eACVC,EAAG,mCAA+BR,GACxCM,EAAIG,aAAe,OACnB,IAAMC,EAxBV,SAAmBC,GACf,IAAIC,EAAc,KAClB,GAAIC,SAASC,QAA8B,KAApBD,SAASC,OAE5B,IADA,IAAMC,EAAUF,SAASC,OAAOE,MAAM,KAC7BC,EAAI,EAAGA,EAAIF,EAAQG,OAAQD,IAAK,CACrC,IAAMH,EAASC,EAAQE,GAAGE,OAE1B,GAAIL,EAAOM,UAAU,EAAGT,EAAKO,OAAS,KAAQP,EAAO,IAAM,CACvDC,EAAcS,mBAAmBP,EAAOM,UAAUT,EAAKO,OAAS,IAChE,OAIZ,OAAON,EAWWU,CAAU,aAC5BhB,EAAIiB,KAAKxB,EAAQS,GACjBF,EAAIkB,iBAAiB,eAAgB,oBACjCd,IACFJ,EAAIkB,iBAAiB,mBAAoB,kBACzClB,EAAIkB,iBAAiB,cAAed,IAGtCJ,EAAImB,OAAS,WACQ,MAAfnB,EAAIoB,SAES,kDADApB,EAAIqB,SAASC,SAEqB,IAA3CC,OAAOC,SAASC,KAAKC,QAAQ,WAC/BH,OAAOC,SAASC,KAAO,kCAI7B9B,EAASK,EAAIqB,SAAUrB,EAAIoB,SAE7BpB,EAAI2B,QAAU,SAAUC,GACtBjC,EAAS,CAAC,QAAW,wBAAyB,MAEhDK,EAAI6B,KAAKhC,GC3CN,SAASiC,EAAMC,GAAQ,IACnBC,EAASD,EAATC,MACP,OAAO,8BAAMA,EAAMC,S,YCKhB,SAASC,EAAUH,GAAQ,IAAD,EACKI,mBAAS,IADd,mBACxBC,EADwB,KACZC,EADY,OAEHF,mBAAS,IAFN,mBAExBG,EAFwB,KAEhBC,EAFgB,OAGSJ,oBAAS,GAHlB,mBAGxBK,EAHwB,KAGVC,EAHU,KA0B/B,OApBAC,qBAAU,WACR,IAAMC,EAAQ,YAAIZ,EAAMa,WAAWC,OAAOT,GACtCO,EAAM/B,SAAW0B,EAAO1B,QAC1B2B,EAAUI,KAEX,CAACZ,EAAMa,UAAWN,EAAQF,IAE7BM,qBAAU,WAER,IAAqB,IAAjBF,EAAwB,CCjB5BhD,EAAc,OADG,YDmBe,SAAC6B,EAAUD,GACxB,MAAXA,IACFiB,EAAc,YAAIhB,IAClBoB,GAAgB,UAKrB,CAACL,EAAYI,EAAcC,IAEvB,8BAAiB,OAAXH,GAAmBA,EAAOQ,KAAK,SAACC,EAAMC,GAAP,OAC/B,cAACC,EAAD,CAAuBjB,MAAOe,GAAdC,QEjCxB,SAASE,EAAcnB,GAAQ,IAC3BE,EAA2CF,EAA3CE,OAAQkB,EAAmCpB,EAAnCoB,WAAYC,EAAuBrB,EAAvBqB,oBAMrBC,GAAyB,IAAfF,EAAsB,SAAW,MACjD,OAAO,yBAAQG,QALK,SAACC,GACjBA,EAAMC,iBDSP,SAAwBvB,EAAQtC,GACnCH,EAAc,OAAD,kBAAoByC,EAApB,WAAqCtC,GCT9C8D,CAAexB,EAAQmB,IAGpB,cAAgCC,EAAhC,OCJJ,SAASJ,EAAWlB,GAAQ,IAC1BC,EAASD,EAATC,MAIP,OAAO,qBAAKsB,QAHY,SAACC,GACvBhC,OAAOC,SAASC,KAAhB,kBAAkCO,EAAMC,SAEnC,SAAgCD,EAAMC,SA0CxC,SAASyB,EAAqB3B,GAAQ,IACpCE,EAAUF,EAAVE,OADmC,EAERE,oBAAS,GAFD,mBAEnCwB,EAFmC,KAExBC,EAFwB,OAGhBzB,mBAAS,MAHO,mBAGnCH,EAHmC,KAG5B6B,EAH4B,KAMpCC,EAAsB,SAACzC,EAAUD,GACtB,MAAXA,GACF2C,QAAQC,IAAI3C,GACZwC,EAASxC,IAGT4C,MAAM,wBAoBV,OAPAvB,qBAAU,YACU,IAAdiB,KF/ED,SAAwB1B,EAAQtC,GACnCH,EAAc,MAAD,kBAAmByC,GAAUtC,GE+ExCuE,CAAejC,EAAQ6B,GACvBF,GAAa,MAGd,CAAC3B,EAAQ0B,EAAWC,IACN,OAAV5B,EAAiB,KAAM,gCAC5B,cAACF,EAAD,CAAOE,MAAOA,EAAOmC,UAAWpC,EAAMoC,YACtC,cAACjB,EAAD,CAAcjB,OAAQD,EAAMC,OAAQkB,WAAYnB,EAAMoC,YAAahB,oBAlBzC,SAAC/B,EAAUD,GACtB,MAAXA,EAEFyC,EAASxC,GAET4C,MAAM,yBCnEZ,IAAMrC,EAAIyC,IAAMC,cAEVC,EAAehE,SAASiE,eAAe,eACzCD,GACFE,IAASC,OAAO9C,GD8BX,SAA6BG,GAAQ,IAAD,EACPI,mBAAS,IADF,mBAClCS,EADkC,KAOzC,OAPyC,KAOlC,qBAAKuB,UAAWpC,EAAMoC,UAAtB,SACL,cAACjC,EAAD,aAAWU,UAAWA,GAAeb,QCtCDwC,EAAaI,SAAUJ,GAG/D,IAAMK,EAAiBrE,SAASiE,eAAe,iBAC3CI,GACFH,IAASC,OAAO9C,GDHX,SAA+BG,GAAQ,IAAD,EACPI,mBAAS,IADF,mBACpC0C,EADoC,KACxBC,EADwB,OAED3C,mBAAS,IAFR,mBAEpC4C,EAFoC,KAErBC,EAFqB,KAkB3C,OAXAtC,qBAAU,YFXL,SAAwBmC,EAAYlF,GAEvCH,EAAc,OADG,iBACeG,EAAU,CAAC,WAAckF,IEiBzDI,CAAeJ,GAPgB,SAACxD,EAAUD,GACzB,MAAXA,EACF4D,EAAiB,YAAI3D,IAErB4C,MAAM,4BAIT,CAACY,IAEG,gCACL,uBAAOK,KAAK,OAAOC,YAAY,SAASC,MAAOP,EAAYQ,SAhB9B,SAAC9B,GAC9BuB,EAAcvB,EAAM+B,OAAOF,UAgBX,KAAfP,GAAqB,6BACnBE,EAAcjC,KAAK,SAACC,EAAMC,GAAP,OAClB,6BAAI,cAACC,EAAD,CAAWjB,MAAOe,GAAlB,UAAgCC,EAAhC,2BCnB8B4B,EAAeD,SAAUC,GAGvCrE,SAASgF,iBAAiB,iBAClCC,SAAQ,SAAAC,GAC1BhB,IAASC,OACP9C,EAAE8B,EAAsB+B,EAAUd,SAClCc,MAMJ1G,M","file":"static/js/main.412c4f34.chunk.js","sourcesContent":["const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","function getCookie(name) {\n    let cookieValue = null;\n    if (document.cookie && document.cookie !== '') {\n        const cookies = document.cookie.split(';');\n        for (let i = 0; i < cookies.length; i++) {\n            const cookie = cookies[i].trim();\n            // Does this cookie string begin with the name we want?\n            if (cookie.substring(0, name.length + 1) === (name + '=')) {\n                cookieValue = decodeURIComponent(cookie.substring(name.length + 1));\n                break;\n            }\n        }\n    }\n    return cookieValue;\n  }\n  \n  export function backendlookup(method, endpoint, callback, data) {\n    let jsonData;\n    if (data) {\n      jsonData = JSON.stringify(data)\n    }\n    const xhr = new XMLHttpRequest()\n    const url = `http://127.0.0.1:8000/api${endpoint}`\n    xhr.responseType = 'json'\n    const csrftoken = getCookie('csrftoken')\n    xhr.open(method, url)\n    xhr.setRequestHeader('Content-Type', 'application/json')\n    if (csrftoken) {\n      xhr.setRequestHeader('X-Requested-With', 'XMLHttpRequest')\n      xhr.setRequestHeader('X-CSRFToken', csrftoken)\n    }\n  \n    xhr.onload = function() {\n      if (xhr.status === 403) {\n        const detail = xhr.response.detail\n        if (detail === \"Authentication credentials were not provided.\") {\n          if (window.location.href.indexOf(\"login\") === -1) {\n            window.location.href = \"/login?showLoginRequired=true\"\n          }\n        }\n      }\n      callback(xhr.response, xhr.status)\n    }\n    xhr.onerror = function (e) {\n      callback({'message': 'Request was an error'}, 400)\n    }\n    xhr.send(jsonData)\n  }","import React from 'react'\n\n\nexport function Stock(props) {\n    const {stock} = props\n    return <div>{stock.ticker}\n    </div>\n}","import React, { useEffect, useState } from 'react'\nimport { Helmet } from 'react-helmet'\n\nimport TradingViewWidget from 'react-tradingview-widget'\n\nimport { apiStockList } from './lookup'\nimport { Stock } from './detail'\n\nimport { StockLink } from './components'\n\nexport function StockList(props) {\n  const [stocksInit, setStocksInit] = useState([])\n  const [stocks, setStocks] = useState([])\n  const [stocksDidSet, setStocksDidSet] = useState(false)\n\n\n  useEffect(() => {\n    const final = [...props.newStocks].concat(stocksInit)\n    if (final.length !== stocks.length) {\n      setStocks(final)\n    }\n  }, [props.newStocks, stocks, stocksInit])\n\n  useEffect(() => {\n    //Do database lookup\n    if (stocksDidSet === false) {\n      const handleStockListLookup = (response, status) => {\n        if (status === 200) {\n          setStocksInit([...response])\n          setStocksDidSet(true)\n        }\n      }\n      apiStockList(handleStockListLookup)\n    }\n  }, [stocksInit, stocksDidSet, setStocksDidSet])\n  //return <div>{stonks === null ? <div>CUNT</div> : stonks.map((item, index) => ( <Widget key={index} stock={item} /> ) )}</div>//myCallback(item.ticker) )} </div>\n  return <div>{stocks !== null && stocks.map( (item, index) => \n              (<StockLink key={index} stock={item} />)\n          )}</div>\n}\n\nfunction Widget (props) {\n  const {stock} = props\n  console.log(stock)\n  return <StockLink stock={stock}>  CUNT<script type=\"text/javascript\" src=\"https://s3.tradingview.com/external-embedding/embed-widget-single-quote.js\" >\n  {`{\n  \"symbol\": \"${stock.ticker}\",\n  \"width\": 350,\n  \"colorTheme\": \"light\",\n  \"isTransparent\": false,\n  \"locale\": \"en\"\n}`}\n  </script></StockLink>\n\n}\n//        <Stock stock={item} className='my-5 py-5 border bg-white text-dark' key={`${index}-{item.id}`} />","import {backendlookup} from '../lookup'\n\nexport function apiStockLookup(ticker, callback) {\n    backendlookup(\"GET\", `/stocks/${ticker}`, callback)\n} \n\nexport function apiStockList(callback) {\n    const endpoint = '/stocks/'\n    backendlookup(\"POST\", endpoint, callback)\n}\n\nexport function apiStockSearch(searchTerm, callback) {\n    const endpoint = '/stocks/search'\n    backendlookup(\"POST\", endpoint, callback, {\"searchTerm\": searchTerm})\n}\n\n//TODO add action of getting prediction\nexport function apiStockAction(ticker, callback) {\n    backendlookup(\"POST\", `/stocks/${ticker}/action`, callback)\n}","import React from 'react'\n\nimport {apiStockAction} from './lookup'\n\nexport function ActionButton (props) {\n    const {ticker, isTracking, handleActionBackend} = props\n\n    const handleClick = (event) => {\n        event.preventDefault()\n        apiStockAction(ticker, handleActionBackend)\n    }\n    const display = isTracking === true ? 'Remove' : 'Add'\n    return <button onClick={handleClick}> {display} </button>\n}","import React, { useState, useEffect } from 'react'\n\nimport { apiStockLookup, apiStockSearch } from './lookup'\nimport { Stock } from './detail'\nimport { StockList } from './list'\nimport { ActionButton } from './buttons'\n\n\nexport function StockLink (props) {\n  const {stock} = props\n  const handleStockLink = (event) => {\n    window.location.href = `/stocks/${stock.ticker}`\n  }\n  return <div onClick={handleStockLink}>{stock.ticker}</div>\n}\nexport function StockSearchComponent (props) {\n  const [searchTerm, setSearchTerm] = useState(\"\")\n  const [searchResults, setSearchResults] = useState([])\n  const handleSearchTermChange = (event) => {\n    setSearchTerm(event.target.value)\n  }\n\n  useEffect(() => {\n    const handleSearchTermLookup = (response, status) => {\n      if (status === 200) {\n        setSearchResults([...response])\n      } else {\n        alert('Error finding stock')\n      }\n    }\n    apiStockSearch(searchTerm, handleSearchTermLookup)\n  }, [searchTerm])\n\n  return <div>\n    <input type=\"text\" placeholder=\"Search\" value={searchTerm} onChange={handleSearchTermChange} />\n    {searchTerm !== \"\" && <ul>\n      {searchResults.map( (item, index) => (\n        <li><StockLink stock={item} key={`${index}-{item.id}`}/></li>\n      ))}\n    </ul>}\n  </div>\n}\n\nexport function StockListComponent (props) {\n  const [newStocks, setNewStocks] = useState([])\n  const handleNewStock = (newStock) => {\n    let tempNewStocks = [...newStocks]\n    tempNewStocks.unshift(newStock)\n    setNewStocks(tempNewStocks)\n  }\n  return <div className={props.className}>\n    <StockList newStocks={newStocks} {...props} />\n  </div>\n}\n\nexport function StockDetailComponent(props) {\n  const {ticker} = props\n  const [didLookup, setDidLookup] = useState(false)\n  const [stock, setStock] = useState(null)\n  //const [isTracking, setIsTracking] = useState(false)\n\n  const handleBackendLookup = (response, status) => {\n    if (status === 200) {\n      console.log(response)\n      setStock(response)//.ticker)\n      //setIsTracking(response.tracked_by)\n    } else {\n      alert('Error finding stock')\n    }\n  }\n\n  const handleActionBackend = (response, status) => {\n    if (status === 200) {\n      //setIsTracking(!isTracking)\n      setStock(response)\n    } else {\n      alert('cant add/remove')\n    }\n  }\n\n  useEffect(() => {\n    if (didLookup === false) {\n      apiStockLookup(ticker, handleBackendLookup)\n      setDidLookup(true)\n    }\n\n  }, [ticker, didLookup, setDidLookup])\n  return stock === null ? null :<div> \n    <Stock stock={stock} className={props.className} />\n    <ActionButton ticker={stock.ticker} isTracking={stock.is_tracking} handleActionBackend={handleActionBackend}/> \n  </div>\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\n//import App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nimport {StockDetailComponent, StockListComponent, StockSearchComponent} from './stocks'\n\n\nconst e = React.createElement\n\nconst stocksListEl = document.getElementById('stocks-list')\nif (stocksListEl) {\n  ReactDOM.render(e(StockListComponent, stocksListEl.dataset), stocksListEl)\n}\n\nconst stocksSearchEl = document.getElementById('stocks-search')\nif (stocksSearchEl) {\n  ReactDOM.render(e(StockSearchComponent, stocksSearchEl.dataset), stocksSearchEl)\n}\n\nconst stockDetailElements = document.querySelectorAll(\".stock-detail\")\nstockDetailElements.forEach(container => {\n  ReactDOM.render(\n    e(StockDetailComponent, container.dataset),\n    container);\n})\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}