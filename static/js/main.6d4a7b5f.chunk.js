(this["webpackJsonpstockpre-web"]=this["webpackJsonpstockpre-web"]||[]).push([[0],{318:function(e,t,n){},322:function(e,t,n){},334:function(e,t){},365:function(e,t){},367:function(e,t){},377:function(e,t){},379:function(e,t){},404:function(e,t){},406:function(e,t){},407:function(e,t){},412:function(e,t){},414:function(e,t){},433:function(e,t){},445:function(e,t){},448:function(e,t){},453:function(e,t){},455:function(e,t){},478:function(e,t){},573:function(e,t,n){"use strict";n.r(t);var o=n(0),i=n.n(o),r=n(14),a=n.n(r),s=(n(318),function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,645)).then((function(t){var n=t.getCLS,o=t.getFID,i=t.getFCP,r=t.getLCP,a=t.getTTFB;n(e),o(e),i(e),r(e),a(e)}))}),c=(n(319),n(26)),l=n(47),d=n(4),u=n(20);function h(e,t,n,o){var i;o&&(i=JSON.stringify(o));var r=new XMLHttpRequest,a="".concat("https://stock-prediction2.herokuapp.com/api").concat(t);r.responseType="json";var s=function(e){var t=null;if(document.cookie&&""!==document.cookie)for(var n=document.cookie.split(";"),o=0;o<n.length;o++){var i=n[o].trim();if(i.substring(0,e.length+1)===e+"="){t=decodeURIComponent(i.substring(e.length+1));break}}return t}("csrftoken");r.open(e,a),r.setRequestHeader("Content-Type","application/json"),s&&(r.setRequestHeader("X-Requested-With","XMLHttpRequest"),r.setRequestHeader("X-CSRFToken",s)),r.onload=function(){403===r.status&&("Authentication credentials were not provided."===r.response.detail&&-1===window.location.href.indexOf("login")&&(window.location.href="/login?showLoginRequired=true"));n(r.response,r.status)},r.onerror=function(e){n({message:"Request was an error"},400)},r.send(i)}function p(e,t,n){t?h("POST","/prediction/create",n,{ticker:e}):h("POST","/stocks/".concat(e,"/action"),n)}function _(e,t){h("POST","/prediction/",t,{ticker:e})}var f=function(){return(f=Object.assign||function(e){for(var t,n=arguments,o=1,i=arguments.length;o<i;o++)for(var r in t=n[o])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function b(e,t){var n=f({},e);for(var o in t)"object"!=typeof e[o]||null===e[o]||Array.isArray(e[o])?void 0!==t[o]&&(n[o]=t[o]):n[o]=b(e[o],t[o]);return n}var m={mobile:{disabled_features:["left_toolbar","header_widget","timeframes_toolbar","edit_buttons_in_legend","context_menus","control_bar","border_around_the_chart"],enabled_features:[]}},g={width:800,height:500,interval:"1D",timezone:"Etc/UTC",container_id:"",library_path:"",locale:"en",widgetbar:{details:!1,watchlist:!1,watchlist_settings:{default_symbols:[]}},overrides:{"mainSeriesProperties.showCountdown":!1},studies_overrides:{},trading_customization:{position:{},order:{}},brokerConfig:{configFlags:{}},fullscreen:!1,autosize:!1,disabled_features:[],enabled_features:[],debug:!1,logo:{},time_frames:[{text:"5y",resolution:"1W"},{text:"1y",resolution:"1W"},{text:"6m",resolution:"120"},{text:"3m",resolution:"60"},{text:"1m",resolution:"30"},{text:"5d",resolution:"5"},{text:"1d",resolution:"1"}],client_id:"0",user_id:"0",charts_storage_api_version:"1.0",favorites:{intervals:[],chartTypes:[]}};var v=function(){function e(e){if(this._id="tradingview_"+(1048576*(1+Math.random())|0).toString(16).substring(1),this._ready=!1,this._readyHandlers=[],this._onWindowResize=this._autoResizeChart.bind(this),!e.datafeed)throw new Error("Datafeed is not defined");if(this._options=b(g,e),e.preset){var t=m[e.preset];t?(void 0!==this._options.disabled_features?this._options.disabled_features=this._options.disabled_features.concat(t.disabled_features):this._options.disabled_features=t.disabled_features,void 0!==this._options.enabled_features?this._options.enabled_features=this._options.enabled_features.concat(t.enabled_features):this._options.enabled_features=t.enabled_features):console.warn("Unknown preset: `"+e.preset+"`")}"Dark"===this._options.theme&&void 0===this._options.loading_screen&&(this._options.loading_screen={backgroundColor:"#131722"}),this._create()}return e.prototype.onChartReady=function(e){this._ready?e.call(this):this._readyHandlers.push(e)},e.prototype.headerReady=function(){var e=this;return this._innerWindowLoaded.then((function(){return e._innerWindow().headerReady()}))},e.prototype.onGrayedObjectClicked=function(e){this._innerAPI().onGrayedObjectClicked(e)},e.prototype.onShortcut=function(e,t){this._innerWindow().createShortcutAction(e,t)},e.prototype.subscribe=function(e,t){this._innerAPI().subscribe(e,t)},e.prototype.unsubscribe=function(e,t){this._innerAPI().unsubscribe(e,t)},e.prototype.chart=function(e){return this._innerAPI().chart(e)},e.prototype.getLanguage=function(){return this._options.locale},e.prototype.setSymbol=function(e,t,n){this._innerAPI().changeSymbol(e,t,n)},e.prototype.remove=function(){window.removeEventListener("resize",this._onWindowResize),this._readyHandlers.splice(0,this._readyHandlers.length),delete window[this._id],this._iFrame.parentNode&&this._iFrame.parentNode.removeChild(this._iFrame)},e.prototype.closePopupsAndDialogs=function(){this._innerAPI().closePopupsAndDialogs()},e.prototype.selectLineTool=function(e){this._innerAPI().selectLineTool(e)},e.prototype.selectedLineTool=function(){return this._innerAPI().selectedLineTool()},e.prototype.save=function(e){this._innerAPI().saveChart(e)},e.prototype.load=function(e,t){this._innerAPI().loadChart({json:e,extendedData:t})},e.prototype.getSavedCharts=function(e){this._innerAPI().getSavedCharts(e)},e.prototype.loadChartFromServer=function(e){this._innerAPI().loadChartFromServer(e)},e.prototype.saveChartToServer=function(e,t,n){this._innerAPI().saveChartToServer(e,t,n)},e.prototype.removeChartFromServer=function(e,t){this._innerAPI().removeChartFromServer(e,t)},e.prototype.onContextMenu=function(e){this._innerAPI().onContextMenu(e)},e.prototype.createButton=function(e){return this._innerWindow().createButton(e)},e.prototype.showNoticeDialog=function(e){this._innerAPI().showNoticeDialog(e)},e.prototype.showConfirmDialog=function(e){this._innerAPI().showConfirmDialog(e)},e.prototype.showLoadChartDialog=function(){this._innerAPI().showLoadChartDialog()},e.prototype.showSaveAsChartDialog=function(){this._innerAPI().showSaveAsChartDialog()},e.prototype.symbolInterval=function(){return this._innerAPI().getSymbolInterval()},e.prototype.mainSeriesPriceFormatter=function(){return this._innerAPI().mainSeriesPriceFormatter()},e.prototype.getIntervals=function(){return this._innerAPI().getIntervals()},e.prototype.getStudiesList=function(){return this._innerAPI().getStudiesList()},e.prototype.addCustomCSSFile=function(e){this._innerWindow().addCustomCSSFile(e)},e.prototype.applyOverrides=function(e){this._options=b(this._options,{overrides:e}),this._innerWindow().applyOverrides(e)},e.prototype.applyStudiesOverrides=function(e){this._innerWindow().applyStudiesOverrides(e)},e.prototype.watchList=function(){return this._innerAPI().watchlist()},e.prototype.activeChart=function(){return this._innerAPI().activeChart()},e.prototype.chartsCount=function(){return this._innerAPI().chartsCount()},e.prototype.layout=function(){return this._innerAPI().layout()},e.prototype.setLayout=function(e){this._innerAPI().setLayout(e)},e.prototype.layoutName=function(){return this._innerAPI().layoutName()},e.prototype.changeTheme=function(e,t){this._innerWindow().changeTheme(e,t)},e.prototype.getTheme=function(){return this._innerWindow().getTheme()},e.prototype.takeScreenshot=function(){this._innerAPI().takeScreenshot()},e.prototype.lockAllDrawingTools=function(){return this._innerAPI().lockAllDrawingTools()},e.prototype.hideAllDrawingTools=function(){return this._innerAPI().hideAllDrawingTools()},e.prototype.drawOnAllCharts=function(e){this._innerAPI().drawOnAllCharts(e)},e.prototype.magnetEnabled=function(){return this._innerAPI().magnetEnabled()},e.prototype.magnetMode=function(){return this._innerAPI().magnetMode()},e.prototype.undoRedoState=function(){return this._innerAPI().undoRedoState()},e.prototype.setIntervalLinkingEnabled=function(e){this._innerAPI().setIntervalLinkingEnabled(e)},e.prototype.setTimeFrame=function(e){this._innerAPI().setTimeFrame(e)},e.prototype.symbolSync=function(){return this._innerAPI().symbolSync()},e.prototype.intervalSync=function(){return this._innerAPI().intervalSync()},e.prototype.crosshairSync=function(){return this._innerAPI().crosshairSync()},e.prototype.timeSync=function(){return this._innerAPI().timeSync()},e.prototype.getAllFeatures=function(){return this._innerWindow().getAllFeatures()},e.prototype.clearUndoHistory=function(){return this._innerAPI().clearUndoHistory()},e.prototype.undo=function(){return this._innerAPI().undo()},e.prototype.redo=function(){return this._innerAPI().redo()},e.prototype.startFullscreen=function(){this._innerAPI().startFullscreen()},e.prototype.exitFullscreen=function(){this._innerAPI().exitFullscreen()},e.prototype.takeClientScreenshot=function(e){return this._innerAPI().takeClientScreenshot(e)},e.prototype._innerAPI=function(){return this._innerWindow().tradingViewApi},e.prototype._innerWindow=function(){return this._iFrame.contentWindow},e.prototype._autoResizeChart=function(){this._options.fullscreen&&(this._iFrame.style.height=window.innerHeight+"px")},e.prototype._create=function(){var e=this,t=this._render(),n=document.getElementById(this._options.container_id);if(null===n)throw new Error("There is no such element - #"+this._options.container_id);n.innerHTML=t,this._iFrame=n.querySelector("#"+this._id);var o=this._iFrame;(this._options.autosize||this._options.fullscreen)&&(o.style.width="100%",this._options.fullscreen||(o.style.height="100%")),window.addEventListener("resize",this._onWindowResize),this._onWindowResize(),this._innerWindowLoaded=new Promise((function(e){o.addEventListener("load",(function t(){o.removeEventListener("load",t,!1),e()}),!1)})),this._innerWindowLoaded.then((function(){e._innerWindow().widgetReady((function(){e._ready=!0;for(var t=0,n=e._readyHandlers;t<n.length;t++){var o=n[t];try{o.call(e)}catch(i){console.error(i)}}e._innerWindow().initializationFinished()}))}))},e.prototype._render=function(){var e=window;if(e[this._id]={datafeed:this._options.datafeed,customFormatters:this._options.custom_formatters||this._options.customFormatters,brokerFactory:this._options.broker_factory||this._options.brokerFactory,overrides:this._options.overrides,studiesOverrides:this._options.studies_overrides,tradingCustomization:this._options.trading_customization,disabledFeatures:this._options.disabled_features,enabledFeatures:this._options.enabled_features,brokerConfig:this._options.broker_config||this._options.brokerConfig,restConfig:this._options.restConfig,favorites:this._options.favorites,logo:this._options.logo,numeric_formatting:this._options.numeric_formatting,rss_news_feed:this._options.rss_news_feed,newsProvider:this._options.news_provider,loadLastChart:this._options.load_last_chart,saveLoadAdapter:this._options.save_load_adapter,loading_screen:this._options.loading_screen,settingsAdapter:this._options.settings_adapter,getCustomIndicators:this._options.custom_indicators_getter},this._options.saved_data)e[this._id].chartContent={json:this._options.saved_data},this._options.saved_data_meta_info&&(e[this._id].chartContentExtendedData=this._options.saved_data_meta_info);else if(!this._options.load_last_chart&&!this._options.symbol)throw new Error("Symbol is not defined: either 'symbol' or 'load_last_chart' option must be set");var t=(this._options.library_path||"")+(encodeURIComponent(this._options.locale)+"-tv-chart.b555c6a4.html#symbol=")+encodeURIComponent(this._options.symbol||"")+"&interval="+encodeURIComponent(this._options.interval)+(this._options.timeframe?"&timeframe="+encodeURIComponent(this._options.timeframe):"")+(this._options.toolbar_bg?"&toolbarbg="+encodeURIComponent(this._options.toolbar_bg.replace("#","")):"")+(this._options.studies_access?"&studiesAccess="+encodeURIComponent(JSON.stringify(this._options.studies_access)):"")+"&widgetbar="+encodeURIComponent(JSON.stringify(this._options.widgetbar))+(this._options.drawings_access?"&drawingsAccess="+encodeURIComponent(JSON.stringify(this._options.drawings_access)):"")+"&timeFrames="+encodeURIComponent(JSON.stringify(this._options.time_frames))+"&locale="+encodeURIComponent(this._options.locale)+"&uid="+encodeURIComponent(this._id)+"&clientId="+encodeURIComponent(String(this._options.client_id))+"&userId="+encodeURIComponent(String(this._options.user_id))+(this._options.charts_storage_url?"&chartsStorageUrl="+encodeURIComponent(this._options.charts_storage_url):"")+(this._options.charts_storage_api_version?"&chartsStorageVer="+encodeURIComponent(this._options.charts_storage_api_version):"")+(this._options.custom_css_url?"&customCSS="+encodeURIComponent(this._options.custom_css_url):"")+(this._options.auto_save_delay?"&autoSaveDelay="+encodeURIComponent(String(this._options.auto_save_delay)):"")+"&debug="+encodeURIComponent(String(this._options.debug))+(this._options.snapshot_url?"&snapshotUrl="+encodeURIComponent(this._options.snapshot_url):"")+(this._options.timezone?"&timezone="+encodeURIComponent(this._options.timezone):"")+(this._options.study_count_limit?"&studyCountLimit="+encodeURIComponent(String(this._options.study_count_limit)):"")+(this._options.symbol_search_request_delay?"&ssreqdelay="+encodeURIComponent(String(this._options.symbol_search_request_delay)):"")+(this._options.compare_symbols?"&compareSymbols="+encodeURIComponent(JSON.stringify(this._options.compare_symbols)):"")+(this._options.theme?"&theme="+encodeURIComponent(String(this._options.theme)):"");return'<iframe id="'+this._id+'" name="'+this._id+'"  src="'+t+'"'+(this._options.autosize||this._options.fullscreen?"":' width="'+this._options.width+'" height="'+this._options.height+'"')+' frameborder="0" allowTransparency="true" scrolling="no" allowfullscreen style="display:block;"></iframe>'},e}();window.TradingView=window.TradingView||{},window.TradingView.version=function(){return"CL v18.043 (internal id b555c6a4 @ 2021-02-18T09:41:15.150Z)"};var y=n(64),j=n.n(y),O=n(118),k=n(296),w=(n.p,n(322),"bua1l2n48v6q418fsepg");document.cookie="X-Authorization=".concat(w,"; path=/");var x=new WebSocket("wss://ws.finnhub.io?token=".concat(w));document.cookie="X-Authorization=".concat(w,"; path=/");var S=new Map;x.onopen=function(e){console.log("Socket connected")},x.onclose=function(e){console.log("Socket disconnected:",e)},x.onerror=function(e){console.log("Socket error:",e)},x.onmessage=function(e){var t=JSON.parse(e.data),n=t.data;"trade"===t.type&&n.forEach((function(e){var t=e.p,n=e.s,o=e.t,i=S.get(n);if(void 0!==i){var r=i.lastDailyBar;if(void 0!==r){var a,s=function(e){var t=new Date(e);return t.setDate(t.getDate()+1),t.getTime()}(r.time);a=o>=s?{time:o,open:t,high:t,low:t,close:t}:Object(c.a)(Object(c.a)({},r),{},{high:Math.max(r.high,t),low:Math.min(r.low,t),close:t}),i.lastDailyBar=a,i.handlers.forEach((function(e){return e.callback(a)}))}else i.lastDailyBar={time:o,open:t,high:t,low:t,close:t}}}))},n(323).ApiClient.instance.authentications.api_key.apiKey=w;var C=new Map,I={supported_resolutions:["1D","1W","1M"],exchanges:[{value:"NYSE",name:"NYSE",desc:"New York Stock Exchange"}],symbol_types:[{name:"Common Stock",value:"stock"}]},A={onReady:function(e){setTimeout((function(){return e(I)}))},resolveSymbol:function(){var e=Object(O.a)(j.a.mark((function e(t,n,o){var i,r,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://finnhub.io/api/v1/stock/symbol?exchange=US&token=".concat(w));case 2:return e.next=4,e.sent.json();case 4:if(i=e.sent,r=i.find((function(e){var n=e.displaySymbol;return t===n}))){e.next=9;break}return o("Cannot resolve symbol: ".concat(t)),e.abrupt("return");case 9:a={ticker:r.symbol,name:r.displaySymbol,description:r.description,type:r.type,session:"24x7",timezone:"Etc/UTC",exchange:"NYSE",minmov:1,pricescale:100,has_intraday:!1,has_no_volume:!0,has_weekly_and_monthly:!1,supported_resolutions:I.supported_resolutions,volume_precision:2,data_status:"streaming"},n(a);case 11:case"end":return e.stop()}}),e)})));return function(t,n,o){return e.apply(this,arguments)}}(),getBars:function(){var e=Object(O.a)(j.a.mark((function e(t,o,i,r,a,s,d){var u,h;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u={"1D":"D","1W":"W","1M":"M"},h=n(353),e.next=4,h("https://finnhub.io/api/v1/stock/candle?symbol=".concat(t.ticker,"&resolution=").concat(u[o],"&from=").concat(i,"&to=").concat(r,"&token=").concat(w),{json:!0},(function(e,n,o){if(e)s(e);else if("no_data"!==o.s){for(var i=o.t.length,r=[],u=0;u<i;u+=1)r=[].concat(Object(l.a)(r),[{time:1e3*o.t[u],low:o.l[u],high:o.h[u],open:o.o[u],close:o.c[u]}]);d&&C.set(t.displaySymbol,Object(c.a)({},r[r.length-1])),a(r,{noData:!1})}else a([],{noData:!0})}));case 4:case"end":return e.stop()}}),e)})));return function(t,n,o,i,r,a,s){return e.apply(this,arguments)}}(),searchSymbols:function(){var e=Object(O.a)(j.a.mark((function e(t,n,o,i){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("SEARCHED");case 1:case"end":return e.stop()}}),e)})));return function(t,n,o,i){return e.apply(this,arguments)}}(),subscribeBars:function(e,t,n,o,i){!function(e,t,n,o,i,r){var a={id:o,callback:n},s=S.get(e);s?s.handlers.push(a):(s={subscribeUID:o,resolution:t,lastDailyBar:r,handlers:[a]},S.set(e,s),console.log("[subscribeBars]: Subscribe to streaming symbol:",e),x.send(JSON.stringify({type:"subscribe",symbol:e})))}(e.ticker,t,n,o,0,C.get(e.ticker))},unsubscribeBars:function(e){!function(e){var t,n=Object(k.a)(S.keys());try{for(n.s();!(t=n.n()).done;){var o=t.value,i=S.get(o),r=i.handlers.findIndex((function(t){return t.id===e}));if(-1!==r&&(i.handlers.splice(r,1),0===i.handlers.length)){console.log("[unsubscribeBars]: Unsubscribe from streaming. Channel:",o),x.send(JSON.stringify({type:"unsubscribe",symbol:o})),S.delete(o);break}}}catch(a){n.e(a)}finally{n.f()}}(e)}},P=n(609),R=n(613),T=n(614);function E(){var e=new RegExp("[\\?&]lang=([^&#]*)").exec(window.location.search);return null===e?null:decodeURIComponent(e[1].replace(/\+/g," "))}var F={symbol:"AAPL",interval:"D",containerId:"tv_chart_container",datafeedUrl:"https://demo_feed.tradingview.com",libraryPath:"/static/js/charting_library/",chartsStorageUrl:"https://saveload.tradingview.com",chartsStorageApiVersion:"1.1",clientId:"tradingview.com",userId:"public_user_id",fullscreen:!1,autosize:!1,studiesOverrides:{}},L=null,N=null;function D(e){var t=e.symbol,n=e.prediction,i=e.didPredictionLookup,r=e.handleBackendPredictionLookup,a=U();return Object(o.useEffect)((function(){var e={symbol:t||F.symbol,datafeed:A,interval:F.interval,container_id:F.containerId,library_path:F.libraryPath,locale:E()||"en",disabled_features:["use_localstorage_for_settings","left_toolbar","header_symbol_search","display_market_status","header_screenshot","header_compare","header_indicators","compare_symbol","header_saveload","create_volume_indicator_by_default","control_bar","show_chart_property_page","countdown"],enabled_features:["study_templates"],charts_storage_url:F.chartsStorageUrl,charts_storage_api_version:F.chartsStorageApiVersion,client_id:F.clientId,user_id:F.userId,fullscreen:F.fullscreen,autosize:F.autosize,studies_overrides:F.studiesOverrides};if(N=new v(e),!1!==i||L||_(t,r),n&&!L&&(L=n,console.log("prediction set"),console.log(L)),null!==L&&null!==N){var o=(new Date).getTime()/1e3,a=function(e){var t=e.split("/");return e=t[2]+"-"+t[0]+"-"+t[1],new Date(e).getTime()/1e3}(L.prediction_date);N.onChartReady((function(){var e=N.chart(),t=e.getVisibleRange(),n=t.from;t.to;e.setVisibleRange({from:n,to:a});try{e.createMultipointShape([{time:o,channel:"close"},{time:a,price:L.upper_value,channel:"close"}],{shape:"trend_line",lock:!0,overrides:{linecolor:"#00ff00",linestyle:2}},null)}catch(i){console.log(i)}try{e.createMultipointShape([{time:o,channel:"close"},{time:a,price:L.lower_value,channel:"close"}],{shape:"trend_line",lock:!0,overrides:{linecolor:"#ff0000",linestyle:2}},null)}catch(i){console.log(i)}try{e.createMultipointShape([{time:o,channel:"close"},{time:a,price:L.future_value,channel:"close"}],{shape:"trend_line",lock:!0,overrides:{linecolor:"#000000",linestyle:2}},null)}catch(i){console.log(i)}}))}return function(){null!==N&&(N.remove(),N=null),L=null}}),[n]),Object(d.jsx)("div",{children:Object(d.jsx)(P.a,{className:a.root,children:Object(d.jsx)(R.a,{className:a.content,children:Object(d.jsx)("div",{id:F.containerId,className:"TVChartContainer"})})})})}var U=Object(T.a)({root:{marginTop:"15px",marginBottom:"4px"},content:{borderRadius:"50px"}});function B(e){var t=Object(o.useState)([]),n=Object(u.a)(t,2),i=n[0],r=n[1],a=Object(o.useState)([]),s=Object(u.a)(a,2),c=s[0],p=s[1],_=Object(o.useState)(!1),f=Object(u.a)(_,2),b=f[0],m=f[1],g=Object(o.useState)(!1),v=Object(u.a)(g,2),y=(v[0],v[1]),j=Object(o.useState)(null),O=Object(u.a)(j,2),k=O[0],w=O[1],x=Object(o.useState)(!1),S=Object(u.a)(x,2),C=S[0],I=S[1],A=function(e,t){if(200===t){var n=e.prediction,o=null!==n?{future_value:n.future_value,upper_value:n.upper_value,lower_value:n.lower_value,prediction_date:e.prediction_date}:null;w(o),y(!0),I(!0)}else alert("Unable to find prediction")};return Object(o.useEffect)((function(){var t=Object(l.a)(e.newStocks).concat(i);t.length!==c.length&&p(t)}),[e.newStocks,c,i]),Object(o.useEffect)((function(){if(!1===b){h("POST","/stocks/",(function(e,t){200===t?(r(Object(l.a)(e)),m(!0)):alert("Error, status:",t)}))}}),[i,b,m]),Object(d.jsx)("div",{children:null!==c&&c.map((function(e,t){return Object(d.jsx)(ne,{stock:e,length:c.length,didPredictionLookup:C,prediction:k,handleBackendPredictionLookup:A},t)}))})}var W=n(615),z=n(616),M=n(643),H=n(618),q=n(619),J=n(620),V=n(621),X=Object(T.a)((function(e){return{button:{background:"linear-gradient(180deg, #FE6B8B 30%, #E8A87C 90%)",margin:"5px",borderRadius:"50px","&:hover":{background:"linear-gradient(180deg, #FE6B8B 0%, #E8A87C 0%)"}},dialog:{justifyContent:"center"}}})),Y=i.a.forwardRef((function(e,t){return Object(d.jsx)(W.a,Object(c.a)({direction:"up",ref:t},e))}));function G(e){var t=X(),n=e.ticker,o=e.isTracking,r=e.predict,a=e.handleActionBackend,s=i.a.useState(!1),c=Object(u.a)(s,2),l=c[0],h=c[1],_=function(){h(!1)},f=function(e){h(!1),e.preventDefault(),p(n,r,a)};return 1==o?Object(d.jsxs)("div",{children:[Object(d.jsx)(z.a,{variant:"contained",className:t.button,onClick:function(){h(!0)},children:"Remove"}),Object(d.jsxs)(M.a,{open:l,TransitionComponent:Y,keepMounted:!0,onClose:_,"aria-labelledby":"alert-title","aria-describedby":"alert-description",children:[Object(d.jsx)(H.a,{id:"alert-title",children:"Remove stock?"}),Object(d.jsx)(q.a,{children:Object(d.jsx)(J.a,{id:"alert-description",children:"Are you sure you want to remove this stock? Doing so will remove it from your list of tracked stocks."})}),Object(d.jsxs)(V.a,{className:t.dialog,children:[Object(d.jsx)(z.a,{variant:"contained",className:t.button,onClick:f,children:"Remove"}),Object(d.jsx)(z.a,{variant:"contained",className:t.button,onClick:_,children:"Cancel"})]})]})]}):Object(d.jsx)("div",{children:Object(d.jsx)(z.a,{variant:"contained",className:t.button,onClick:f,children:"Add"})})}function $(e){var t=X(),n=e.ticker,o=e.isTracking,i=e.predict,r=e.handleActionBackend,a=function(e){e.preventDefault(),p(n,i,r)},s=!0===o?"Remove":"Add";return!0===i?Object(d.jsx)(z.a,{variant:"contained",className:t.button,onClick:a,children:"Predict"}):Object(d.jsxs)(z.a,{variant:"contained",className:t.button,onClick:a,children:[" ",s," "]})}var Z=n(622),K=n(623),Q=n(38),ee=n(644),te=n(624);function ne(e){var t=e.stock,n=e.length,i=e.didPredictionLookup,r=e.prediction,a=e.handleBackendPredictionLookup,s=Object(o.useState)("Loading..."),c=Object(u.a)(s,2),l=c[0],h=c[1],p=Object(o.useState)("Loading..."),f=Object(u.a)(p,2),b=f[0],m=f[1],g=Object(o.useState)(null),v=Object(u.a)(g,2),y=v[0],j=v[1],O=ae();return Object(o.useEffect)((function(){!1!==i||y||_(t.ticker,a),r&&!y&&j(r);var e=setInterval((function(){fetch("https://finnhub.io/api/v1/quote?symbol=".concat(t.ticker,"&token=").concat(w)).then((function(e){e.json().then((function(e){console.log("Filled",e);try{var t=parseFloat(e.o),n=parseFloat(e.c);h(n.toFixed(2));var o=100*(n-t)/t;m((o<0?"":"+")+o.toFixed(2)+"%")}catch(i){h("Loading..."),m("Loading...")}}))}))}),5e3*n);return function(){j(null),clearInterval(e)}}),[i,a,r]),Object(d.jsx)(Z.a,{container:!0,spacing:0,direction:"column",alignItems:"center",justify:"space-evenly",children:Object(d.jsxs)(P.a,{className:O.root,children:[Object(d.jsx)(K.a,{className:O.header,title:t.company_name,subheader:t.ticker}),Object(d.jsx)(R.a,{children:Object(d.jsxs)(Z.a,{container:!0,direction:"row",alignContent:"flex-start",justify:"space-evenly",children:[Object(d.jsxs)(Z.a,{item:!0,children:[Object(d.jsxs)(Q.a,{children:["Current Price: ",l]}),Object(d.jsxs)(Q.a,{children:["Change: ",b]})]}),Object(d.jsx)(Z.a,{item:!0,children:Object(d.jsx)(z.a,{className:O.button,variant:"contained",onClick:function(e){e.preventDefault(),window.location.href="/stocks/".concat(t.ticker.toUpperCase())},children:"Details"})})]})})]})})}function oe(e){var t=e.tickerinit,n=Object(o.useState)(!1),i=Object(u.a)(n,2),r=i[0],a=i[1],s=Object(o.useState)(null),c=Object(u.a)(s,2),l=c[0],p=c[1],_=Object(o.useState)(!1),f=Object(u.a)(_,2),b=f[0],m=f[1],g=Object(o.useState)(!1),v=Object(u.a)(g,2),y=(v[0],v[1]),j=Object(o.useState)(null),O=Object(u.a)(j,2),k=O[0],w=O[1],x=Object(o.useState)(!1),S=Object(u.a)(x,2),C=S[0],I=S[1],A=function(e,t){200===t?(p(e.ticker),m(e.is_tracking)):alert("Error finding stock")},P=function(e,t){if(200===t){var n=e.prediction,o=null!==n?{future_value:n.future_value,upper_value:n.upper_value,lower_value:n.lower_value,prediction_date:e.prediction_date}:null;w(o),y(!0),I(!0)}else alert("Unable to find prediction")},R=function(e,t){if(200===t&&b)m(!1),y(!1),w(null),p(e.ticker);else if(200!==t||b)if(201===t&&b){var n=e.prediction,o={future_value:n.future_value,upper_value:n.upper_value,lower_value:n.lower_value,prediction_date:e.prediction_date};w(o),y(!0)}else alert("cant add/remove, status:",t);else m(!0)};return Object(o.useEffect)((function(){!1===r&&(!function(e,t){h("GET","/stocks/".concat(e),t)}(t,A),a(!0))}),[t,r,a]),null===l?null:Object(d.jsx)("div",{children:Object(d.jsxs)(Z.a,{container:!0,direction:"column",justify:"center",alignItems:"center",children:[Object(d.jsx)(D,{symbol:l,didPredictionLookup:C,prediction:k,handleBackendPredictionLookup:P,className:e.className}),Object(d.jsx)(ie,{ticker:l,didPredictionLookup:C,prediction:k,handleBackendPredictionLookup:P}),Object(d.jsxs)(Z.a,{container:!0,direction:"row",alignItems:"center",justify:"center",children:[Object(d.jsx)(G,{ticker:l,predict:!1,isTracking:b,handleActionBackend:R}),b&&Object(d.jsx)($,{ticker:l,predict:!0,isTracking:b,handleActionBackend:R})]})]})})}function ie(e){var t=e.ticker,n=e.prediction,i=e.didPredictionLookup,r=e.handleBackendPredictionLookup,a=ae();return Object(o.useEffect)((function(){i||_(t,r)})),null!==n?Object(d.jsxs)("div",{className:"mb-1",children:[Object(d.jsx)("p",{}),Object(d.jsx)(ee.a,{label:"Predicted Price: $"+n.future_value.toFixed(2),className:a.prediction}),Object(d.jsx)(ee.a,{label:"Range: $"+n.lower_value.toFixed(2)+" to $"+n.upper_value.toFixed(2),className:a.prediction}),Object(d.jsx)(ee.a,{label:"Date: "+n.prediction_date,className:a.prediction})]}):null}var re=[{ticker:"AAPL",company_name:"Apple Inc."},{ticker:"TSLA",company_name:"Tesla, Inc."},{ticker:"AMZN",company_name:"Amazon.com, Inc."},{ticker:"NFLX",company_name:"Netflix, Inc."},{ticker:"MSFT",company_name:"Microsoft Corporation"}];var ae=Object(T.a)({root:{background:"linear-gradient(180deg, #FE6B8B 30%, #E8A87C 90%)",marginTop:"5px",marginBottom:"5px",borderRadius:"50px",width:425},header:{textAlign:"center"},prediction:{background:"linear-gradient(180deg, #FE6B8B 30%, #E8A87C 90%)",marginLeft:"5px"},button:{backgroundColor:"white",color:"black",borderRadius:"50px"},landingRoot:{maxWidth:550,textAlign:"center",alignItems:"center",justifyContent:"center",margin:"5px"},h4:{color:"#FE6B8B"},landingMedia:{height:"100%",width:"100%"}}),se=n(110),ce=n(640),le=n(13),de=n(641);function ue(e){he();var t=Object(o.useState)(void 0),n=Object(u.a)(t,2),i=n[0],r=n[1],a=Object(o.useState)([]),s=Object(u.a)(a,2),p=s[0],_=s[1],f=function(e,t){e&&"change"===e.type?(console.log("TYPED: ",e.target.value),r(e.target.value)):(console.log("AUTO SEARCH: ",t),r(t)),console.log("SEARCHTERM: ",i)},b=function(e,t){200===t?(_(Object(l.a)(e)),console.log("SEARCH RESULTS: ",p)):403===t?alert("Unauthorized, must login to access"):alert("Error finding stock, status:",t)};return Object(o.useEffect)((function(){!function(e,t){h("POST","/stocks/search",t,{searchTerm:e})}(i,b)}),[i]),Object(d.jsx)("form",{style:{padding:"0px 10% 0px 10%",width:"75%"},onSubmit:function(e){console.log("SEARCH SUBMIT: ",e),console.log(i),e.preventDefault();var t=i.match(/([^-]+) - .*/);0!==t.length?window.location.href="/stocks/".concat(t[1].toUpperCase()):window.location.href="/stocks/".concat(i.toUpperCase())},children:Object(d.jsx)(de.a,{id:"demo",value:i,freeSolo:!0,options:p.map((function(e){return e.ticker+" - "+e.company_name})),getOptionLabel:function(e){return e},getOptionSelected:function(e,t){return e===t.ticker},onChange:f,onInputChange:function(e){return f(e,void 0)},renderInput:function(e){return Object(d.jsx)(ce.a,Object(c.a)(Object(c.a)({},e),{},{label:"Ticker",margin:"normal",variant:"outlined"}))}})})}var he=Object(T.a)((function(e){return{search:Object(se.a)({position:"relative",borderRadius:"50px",backgroundColor:Object(le.c)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(le.c)(e.palette.common.white,.25)},marginLeft:0,width:"50%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(1),width:"50%"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit",width:"100%"},inputInput:{padding:e.spacing(3,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"}}})),pe=(n(638),n(639),n(627)),_e=n(628),fe=n(629),be=n(625),me=n(626),ge=n(631),ve=n(632),ye=n(633),je=n(634),Oe=n(636),ke=n(637),we=n(630),xe=n(635),Se=(n(572),n(59),[{title:"Profile",path:"/profile"},{title:"Logout",path:"/logout"}]),Ce=Object(T.a)((function(e){return{colorScheme:{background:"linear-gradient(180deg, #FE6B8B 30%, #E8A87C 90%)"},navDisplayFlex:{display:"flex",justifyContent:"center",alignItems:"center"},navbarDisplayFlex:{display:"flex",justifyContent:"space-between"},linkText:{marginTop:"5px",textDecoration:"none",textTransform:"none",color:"white","&:hover":{color:"white",textDecoration:"none"}},scrollTop:{position:"fixed",bottom:e.spacing(2),right:e.spacing(2)},toolbar:{marginBottom:"5px"}}}));function Ie(e){var t=e.children,n=Object(Oe.a)({disableHysteresis:!0,threshold:0});return i.a.cloneElement(t,{elevation:n?4:0})}function Ae(e){var t=e.children,n=e.window,o=Ce(),i=Object(Oe.a)({target:n?n():void 0,disableHysteresis:!0,threshold:100});return Object(d.jsx)(ke.a,{in:i,children:Object(d.jsx)("div",{onClick:function(e){var t=(e.target.ownerDocument||document).querySelector("#back-to-top-anchor");t&&t.scrollIntoView({behavior:"smooth",block:"center"})},role:"presentation",className:o.scrollTop,children:t})})}var Pe=i.a.createElement,Re=document.getElementById("stocks-list");Re&&a.a.render(Pe((function(e){var t=Object(o.useState)([]),n=Object(u.a)(t,2),i=n[0];return n[1],Object(d.jsxs)("div",{className:e.className,children:[Object(d.jsx)(B,Object(c.a)({newStocks:i},e)),Object(d.jsx)("br",{})]})}),Re.dataset),Re);var Te=document.getElementById("navbar");Te&&a.a.render(Pe((function(e){var t=Ce();return Object(d.jsxs)(i.a.Fragment,{children:[Object(d.jsx)(pe.a,{id:"back-to-top-anchor"}),Object(d.jsx)(Ie,Object(c.a)(Object(c.a)({},e),{},{children:Object(d.jsx)(_e.a,{className:t.colorScheme,children:Object(d.jsx)(pe.a,{className:t.toolbar,id:"back-to-top-anchor",children:Object(d.jsxs)(fe.a,{maxWidth:"xl",className:t.navbarDisplayFlex,children:[Object(d.jsx)(be.a,{href:"/",className:t.linkText,edge:"start",color:"inherit","aria-label":"home",children:Object(d.jsx)(we.a,{fontSize:"large"})}),Object(d.jsx)(ue,{}),Object(d.jsx)(me.a,{component:"nav","aria-labelledby":"main navigation",className:t.navDisplayFlex,children:Se.map((function(e){var n=e.title,o=e.path;return Object(d.jsx)(ge.a,{href:o,className:t.linkText,underline:"always",children:Object(d.jsx)(ve.a,{button:!0,children:Object(d.jsx)(ye.a,{primary:n})})},n)}))})]})})})})),Object(d.jsx)(Ae,Object(c.a)(Object(c.a)({},e),{},{children:Object(d.jsx)(je.a,{className:t.colorScheme,size:"small","aria-label":"scroll back to top",children:Object(d.jsx)(xe.a,{})})})),Object(d.jsx)("br",{})]})}),Te.dataset),Te),document.querySelectorAll(".stock-detail").forEach((function(e){a.a.render(Pe(oe,e.dataset),e)}));var Ee=document.getElementById("landing-page");Ee&&a.a.render(Pe((function(e){var t=ae();return Object(d.jsxs)("div",{children:[Object(d.jsxs)(Z.a,{container:!0,direction:"row",xs:12,children:[Object(d.jsxs)(Z.a,{container:!0,direction:"column",xs:6,alignItems:"center",children:[Object(d.jsx)(Q.a,{variant:"h4",className:t.h4,children:"Stock Prediction - Home"}),Object(d.jsx)(Q.a,{variant:"h6",align:"center",children:"Welcome to the Stock Prediction home page! Here you are able to predict the prices of your favorite stocks on the stock market. To begin, simply search a company name or stock ticker and hit enter."}),Object(d.jsx)(Z.a,{item:!0,children:Object(d.jsx)(P.a,{className:t.landingRoot,children:Object(d.jsx)(te.a,{className:t.landingMedia,component:"img",image:"https://user-images.githubusercontent.com/65428832/115729365-5ba3b300-a353-11eb-81a9-808eebcce8c2.png"})})}),Object(d.jsx)(Q.a,{variant:"h6",align:"center",children:"Once your stock has loaded, you have the option to add it to your watchlist. After adding it to your watchlist, you can predict the stock's price giving you a 30 day forecast, or you can remove it if you are no longer interested."}),Object(d.jsx)(Z.a,{item:!0,children:Object(d.jsx)(P.a,{className:t.landingRoot,children:Object(d.jsx)(te.a,{className:t.landingMedia,component:"img",image:"https://user-images.githubusercontent.com/65428832/115729385-5fcfd080-a353-11eb-8099-d263f6492f10.png"})})}),Object(d.jsx)(Q.a,{variant:"h6",align:"center",children:"Thanks for using our website, we wish you the best of luck in the market!"})]}),Object(d.jsxs)(Z.a,{container:!0,direction:"column",xs:6,alignItems:"center",children:[Object(d.jsx)(Q.a,{variant:"h4",className:t.h4,children:"Popular Stocks"}),Object(d.jsx)(B,Object(c.a)({newStocks:re},e))]})]}),Object(d.jsx)(Q.a,{variant:"h4",className:t.h4,align:"center",children:"Your Tracked Stocks"})]})}),Ee.dataset),Ee),s()}},[[573,1,2]]]);
//# sourceMappingURL=main.6d4a7b5f.chunk.js.map