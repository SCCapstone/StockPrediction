(this["webpackJsonpstockpre-web"]=this["webpackJsonpstockpre-web"]||[]).push([[0],{320:function(e,t,n){},323:function(e,t,n){},336:function(e,t){},368:function(e,t){},370:function(e,t){},379:function(e,t){},381:function(e,t){},406:function(e,t){},408:function(e,t){},409:function(e,t){},414:function(e,t){},416:function(e,t){},422:function(e,t){},424:function(e,t){},443:function(e,t){},455:function(e,t){},458:function(e,t){},484:function(e,t){},581:function(e,t,n){"use strict";n.r(t);var o=n(0),i=n.n(o),r=n(16),a=n.n(r),s=(n(320),function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,652)).then((function(t){var n=t.getCLS,o=t.getFID,i=t.getFCP,r=t.getLCP,a=t.getTTFB;n(e),o(e),i(e),r(e),a(e)}))}),c=(n(321),n(27)),l=n(47),u=n(42),d=n.n(u),p=n(74),h=n(20);function _(e,t,n,o){var i;o&&(i=JSON.stringify(o));var r=new XMLHttpRequest,a="".concat("http://127.0.0.1:8000/api").concat(t);r.responseType="json";var s=function(e){var t=null;if(document.cookie&&""!==document.cookie)for(var n=document.cookie.split(";"),o=0;o<n.length;o++){var i=n[o].trim();if(i.substring(0,e.length+1)===e+"="){t=decodeURIComponent(i.substring(e.length+1));break}}return t}("csrftoken");r.open(e,a),r.setRequestHeader("Content-Type","application/json"),s&&(r.setRequestHeader("X-Requested-With","XMLHttpRequest"),r.setRequestHeader("X-CSRFToken",s)),r.onload=function(){403===r.status&&("Authentication credentials were not provided."===r.response.detail&&-1===window.location.href.indexOf("login")&&(window.location.href="/login?showLoginRequired=true"));n(r.response,r.status)},r.onerror=function(e){n({message:"Request was an error"},400)},r.send(i)}function f(e,t,n){t?_("POST","/prediction/create",n,{ticker:e}):_("POST","/stocks/".concat(e,"/action"),n)}function b(e,t){_("POST","/prediction/",t,{ticker:e})}var m=function(){return(m=Object.assign||function(e){for(var t,n=arguments,o=1,i=arguments.length;o<i;o++)for(var r in t=n[o])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function g(e,t){var n=m({},e);for(var o in t)"object"!=typeof e[o]||null===e[o]||Array.isArray(e[o])?void 0!==t[o]&&(n[o]=t[o]):n[o]=g(e[o],t[o]);return n}var v={mobile:{disabled_features:["left_toolbar","header_widget","timeframes_toolbar","edit_buttons_in_legend","context_menus","control_bar","border_around_the_chart"],enabled_features:[]}},y={width:800,height:500,interval:"1D",timezone:"Etc/UTC",container_id:"",library_path:"",locale:"en",widgetbar:{details:!1,watchlist:!1,watchlist_settings:{default_symbols:[]}},overrides:{"mainSeriesProperties.showCountdown":!1},studies_overrides:{},trading_customization:{position:{},order:{}},brokerConfig:{configFlags:{}},fullscreen:!1,autosize:!1,disabled_features:[],enabled_features:[],debug:!1,logo:{},time_frames:[{text:"5y",resolution:"1W"},{text:"1y",resolution:"1W"},{text:"6m",resolution:"120"},{text:"3m",resolution:"60"},{text:"1m",resolution:"30"},{text:"5d",resolution:"5"},{text:"1d",resolution:"1"}],client_id:"0",user_id:"0",charts_storage_api_version:"1.0",favorites:{intervals:[],chartTypes:[]}};var j=function(){function e(e){if(this._id="tradingview_"+(1048576*(1+Math.random())|0).toString(16).substring(1),this._ready=!1,this._readyHandlers=[],this._onWindowResize=this._autoResizeChart.bind(this),!e.datafeed)throw new Error("Datafeed is not defined");if(this._options=g(y,e),e.preset){var t=v[e.preset];t?(void 0!==this._options.disabled_features?this._options.disabled_features=this._options.disabled_features.concat(t.disabled_features):this._options.disabled_features=t.disabled_features,void 0!==this._options.enabled_features?this._options.enabled_features=this._options.enabled_features.concat(t.enabled_features):this._options.enabled_features=t.enabled_features):console.warn("Unknown preset: `"+e.preset+"`")}"Dark"===this._options.theme&&void 0===this._options.loading_screen&&(this._options.loading_screen={backgroundColor:"#131722"}),this._create()}return e.prototype.onChartReady=function(e){this._ready?e.call(this):this._readyHandlers.push(e)},e.prototype.headerReady=function(){var e=this;return this._innerWindowLoaded.then((function(){return e._innerWindow().headerReady()}))},e.prototype.onGrayedObjectClicked=function(e){this._innerAPI().onGrayedObjectClicked(e)},e.prototype.onShortcut=function(e,t){this._innerWindow().createShortcutAction(e,t)},e.prototype.subscribe=function(e,t){this._innerAPI().subscribe(e,t)},e.prototype.unsubscribe=function(e,t){this._innerAPI().unsubscribe(e,t)},e.prototype.chart=function(e){return this._innerAPI().chart(e)},e.prototype.getLanguage=function(){return this._options.locale},e.prototype.setSymbol=function(e,t,n){this._innerAPI().changeSymbol(e,t,n)},e.prototype.remove=function(){window.removeEventListener("resize",this._onWindowResize),this._readyHandlers.splice(0,this._readyHandlers.length),delete window[this._id],this._iFrame.parentNode&&this._iFrame.parentNode.removeChild(this._iFrame)},e.prototype.closePopupsAndDialogs=function(){this._innerAPI().closePopupsAndDialogs()},e.prototype.selectLineTool=function(e){this._innerAPI().selectLineTool(e)},e.prototype.selectedLineTool=function(){return this._innerAPI().selectedLineTool()},e.prototype.save=function(e){this._innerAPI().saveChart(e)},e.prototype.load=function(e,t){this._innerAPI().loadChart({json:e,extendedData:t})},e.prototype.getSavedCharts=function(e){this._innerAPI().getSavedCharts(e)},e.prototype.loadChartFromServer=function(e){this._innerAPI().loadChartFromServer(e)},e.prototype.saveChartToServer=function(e,t,n){this._innerAPI().saveChartToServer(e,t,n)},e.prototype.removeChartFromServer=function(e,t){this._innerAPI().removeChartFromServer(e,t)},e.prototype.onContextMenu=function(e){this._innerAPI().onContextMenu(e)},e.prototype.createButton=function(e){return this._innerWindow().createButton(e)},e.prototype.showNoticeDialog=function(e){this._innerAPI().showNoticeDialog(e)},e.prototype.showConfirmDialog=function(e){this._innerAPI().showConfirmDialog(e)},e.prototype.showLoadChartDialog=function(){this._innerAPI().showLoadChartDialog()},e.prototype.showSaveAsChartDialog=function(){this._innerAPI().showSaveAsChartDialog()},e.prototype.symbolInterval=function(){return this._innerAPI().getSymbolInterval()},e.prototype.mainSeriesPriceFormatter=function(){return this._innerAPI().mainSeriesPriceFormatter()},e.prototype.getIntervals=function(){return this._innerAPI().getIntervals()},e.prototype.getStudiesList=function(){return this._innerAPI().getStudiesList()},e.prototype.addCustomCSSFile=function(e){this._innerWindow().addCustomCSSFile(e)},e.prototype.applyOverrides=function(e){this._options=g(this._options,{overrides:e}),this._innerWindow().applyOverrides(e)},e.prototype.applyStudiesOverrides=function(e){this._innerWindow().applyStudiesOverrides(e)},e.prototype.watchList=function(){return this._innerAPI().watchlist()},e.prototype.activeChart=function(){return this._innerAPI().activeChart()},e.prototype.chartsCount=function(){return this._innerAPI().chartsCount()},e.prototype.layout=function(){return this._innerAPI().layout()},e.prototype.setLayout=function(e){this._innerAPI().setLayout(e)},e.prototype.layoutName=function(){return this._innerAPI().layoutName()},e.prototype.changeTheme=function(e,t){this._innerWindow().changeTheme(e,t)},e.prototype.getTheme=function(){return this._innerWindow().getTheme()},e.prototype.takeScreenshot=function(){this._innerAPI().takeScreenshot()},e.prototype.lockAllDrawingTools=function(){return this._innerAPI().lockAllDrawingTools()},e.prototype.hideAllDrawingTools=function(){return this._innerAPI().hideAllDrawingTools()},e.prototype.drawOnAllCharts=function(e){this._innerAPI().drawOnAllCharts(e)},e.prototype.magnetEnabled=function(){return this._innerAPI().magnetEnabled()},e.prototype.magnetMode=function(){return this._innerAPI().magnetMode()},e.prototype.undoRedoState=function(){return this._innerAPI().undoRedoState()},e.prototype.setIntervalLinkingEnabled=function(e){this._innerAPI().setIntervalLinkingEnabled(e)},e.prototype.setTimeFrame=function(e){this._innerAPI().setTimeFrame(e)},e.prototype.symbolSync=function(){return this._innerAPI().symbolSync()},e.prototype.intervalSync=function(){return this._innerAPI().intervalSync()},e.prototype.crosshairSync=function(){return this._innerAPI().crosshairSync()},e.prototype.timeSync=function(){return this._innerAPI().timeSync()},e.prototype.getAllFeatures=function(){return this._innerWindow().getAllFeatures()},e.prototype.clearUndoHistory=function(){return this._innerAPI().clearUndoHistory()},e.prototype.undo=function(){return this._innerAPI().undo()},e.prototype.redo=function(){return this._innerAPI().redo()},e.prototype.startFullscreen=function(){this._innerAPI().startFullscreen()},e.prototype.exitFullscreen=function(){this._innerAPI().exitFullscreen()},e.prototype.takeClientScreenshot=function(e){return this._innerAPI().takeClientScreenshot(e)},e.prototype._innerAPI=function(){return this._innerWindow().tradingViewApi},e.prototype._innerWindow=function(){return this._iFrame.contentWindow},e.prototype._autoResizeChart=function(){this._options.fullscreen&&(this._iFrame.style.height=window.innerHeight+"px")},e.prototype._create=function(){var e=this,t=this._render(),n=document.getElementById(this._options.container_id);if(null===n)throw new Error("There is no such element - #"+this._options.container_id);n.innerHTML=t,this._iFrame=n.querySelector("#"+this._id);var o=this._iFrame;(this._options.autosize||this._options.fullscreen)&&(o.style.width="100%",this._options.fullscreen||(o.style.height="100%")),window.addEventListener("resize",this._onWindowResize),this._onWindowResize(),this._innerWindowLoaded=new Promise((function(e){o.addEventListener("load",(function t(){o.removeEventListener("load",t,!1),e()}),!1)})),this._innerWindowLoaded.then((function(){e._innerWindow().widgetReady((function(){e._ready=!0;for(var t=0,n=e._readyHandlers;t<n.length;t++){var o=n[t];try{o.call(e)}catch(i){console.error(i)}}e._innerWindow().initializationFinished()}))}))},e.prototype._render=function(){var e=window;if(e[this._id]={datafeed:this._options.datafeed,customFormatters:this._options.custom_formatters||this._options.customFormatters,brokerFactory:this._options.broker_factory||this._options.brokerFactory,overrides:this._options.overrides,studiesOverrides:this._options.studies_overrides,tradingCustomization:this._options.trading_customization,disabledFeatures:this._options.disabled_features,enabledFeatures:this._options.enabled_features,brokerConfig:this._options.broker_config||this._options.brokerConfig,restConfig:this._options.restConfig,favorites:this._options.favorites,logo:this._options.logo,numeric_formatting:this._options.numeric_formatting,rss_news_feed:this._options.rss_news_feed,newsProvider:this._options.news_provider,loadLastChart:this._options.load_last_chart,saveLoadAdapter:this._options.save_load_adapter,loading_screen:this._options.loading_screen,settingsAdapter:this._options.settings_adapter,getCustomIndicators:this._options.custom_indicators_getter},this._options.saved_data)e[this._id].chartContent={json:this._options.saved_data},this._options.saved_data_meta_info&&(e[this._id].chartContentExtendedData=this._options.saved_data_meta_info);else if(!this._options.load_last_chart&&!this._options.symbol)throw new Error("Symbol is not defined: either 'symbol' or 'load_last_chart' option must be set");var t=(this._options.library_path||"")+(encodeURIComponent(this._options.locale)+"-tv-chart.b555c6a4.html#symbol=")+encodeURIComponent(this._options.symbol||"")+"&interval="+encodeURIComponent(this._options.interval)+(this._options.timeframe?"&timeframe="+encodeURIComponent(this._options.timeframe):"")+(this._options.toolbar_bg?"&toolbarbg="+encodeURIComponent(this._options.toolbar_bg.replace("#","")):"")+(this._options.studies_access?"&studiesAccess="+encodeURIComponent(JSON.stringify(this._options.studies_access)):"")+"&widgetbar="+encodeURIComponent(JSON.stringify(this._options.widgetbar))+(this._options.drawings_access?"&drawingsAccess="+encodeURIComponent(JSON.stringify(this._options.drawings_access)):"")+"&timeFrames="+encodeURIComponent(JSON.stringify(this._options.time_frames))+"&locale="+encodeURIComponent(this._options.locale)+"&uid="+encodeURIComponent(this._id)+"&clientId="+encodeURIComponent(String(this._options.client_id))+"&userId="+encodeURIComponent(String(this._options.user_id))+(this._options.charts_storage_url?"&chartsStorageUrl="+encodeURIComponent(this._options.charts_storage_url):"")+(this._options.charts_storage_api_version?"&chartsStorageVer="+encodeURIComponent(this._options.charts_storage_api_version):"")+(this._options.custom_css_url?"&customCSS="+encodeURIComponent(this._options.custom_css_url):"")+(this._options.auto_save_delay?"&autoSaveDelay="+encodeURIComponent(String(this._options.auto_save_delay)):"")+"&debug="+encodeURIComponent(String(this._options.debug))+(this._options.snapshot_url?"&snapshotUrl="+encodeURIComponent(this._options.snapshot_url):"")+(this._options.timezone?"&timezone="+encodeURIComponent(this._options.timezone):"")+(this._options.study_count_limit?"&studyCountLimit="+encodeURIComponent(String(this._options.study_count_limit)):"")+(this._options.symbol_search_request_delay?"&ssreqdelay="+encodeURIComponent(String(this._options.symbol_search_request_delay)):"")+(this._options.compare_symbols?"&compareSymbols="+encodeURIComponent(JSON.stringify(this._options.compare_symbols)):"")+(this._options.theme?"&theme="+encodeURIComponent(String(this._options.theme)):"");return'<iframe id="'+this._id+'" name="'+this._id+'"  src="'+t+'"'+(this._options.autosize||this._options.fullscreen?"":' width="'+this._options.width+'" height="'+this._options.height+'"')+' frameborder="0" allowTransparency="true" scrolling="no" allowfullscreen style="display:block;"></iframe>'},e}();window.TradingView=window.TradingView||{},window.TradingView.version=function(){return"CL v18.043 (internal id b555c6a4 @ 2021-02-18T09:41:15.150Z)"};var O=n(297),w=(n.p,n(323),n(4)),k="bua1l2n48v6q418fsepg";document.cookie="X-Authorization=".concat(k,"; path=/");var x=new WebSocket("wss://ws.finnhub.io?token=".concat(k));document.cookie="X-Authorization=".concat(k,"; path=/");var S=new Map;x.onopen=function(e){console.log("Socket connected")},x.onclose=function(e){console.log("Socket disconnected:",e)},x.onerror=function(e){console.log("Socket error:",e)},x.onmessage=function(e){var t=JSON.parse(e.data),n=t.data;"trade"===t.type&&n.forEach((function(e){var t=e.p,n=e.s,o=e.t,i=S.get(n);if(void 0!==i){var r=i.lastDailyBar;if(void 0!==r){var a,s=function(e){var t=new Date(e);return t.setDate(t.getDate()+1),t.getTime()}(r.time);a=o>=s?{time:o,open:t,high:t,low:t,close:t}:Object(c.a)(Object(c.a)({},r),{},{high:Math.max(r.high,t),low:Math.min(r.low,t),close:t}),i.lastDailyBar=a,i.handlers.forEach((function(e){return e.callback(a)}))}else i.lastDailyBar={time:o,open:t,high:t,low:t,close:t}}}))},n(325).ApiClient.instance.authentications.api_key.apiKey=k;var C=new Map,I={supported_resolutions:["1D","1W","1M"],exchanges:[{value:"NYSE",name:"NYSE",desc:"New York Stock Exchange"}],symbol_types:[{name:"Common Stock",value:"stock"}]},A={onReady:function(e){setTimeout((function(){return e(I)}))},resolveSymbol:function(){var e=Object(p.a)(d.a.mark((function e(t,n,o){var i,r,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://finnhub.io/api/v1/stock/symbol?exchange=US&token=".concat(k));case 2:return e.next=4,e.sent.json();case 4:if(i=e.sent,r=i.find((function(e){var n=e.displaySymbol;return t===n}))){e.next=9;break}return o("Cannot resolve symbol: ".concat(t)),e.abrupt("return");case 9:a={ticker:r.symbol,name:r.displaySymbol,description:r.description,type:r.type,session:"24x7",timezone:"Etc/UTC",exchange:"NYSE",minmov:1,pricescale:100,has_intraday:!1,has_no_volume:!0,has_weekly_and_monthly:!1,supported_resolutions:I.supported_resolutions,volume_precision:2,data_status:"streaming"},n(a);case 11:case"end":return e.stop()}}),e)})));return function(t,n,o){return e.apply(this,arguments)}}(),getBars:function(){var e=Object(p.a)(d.a.mark((function e(t,o,i,r,a,s,u){var p,h;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p={"1D":"D","1W":"W","1M":"M"},h=n(355),e.next=4,h("https://finnhub.io/api/v1/stock/candle?symbol=".concat(t.ticker,"&resolution=").concat(p[o],"&from=").concat(i,"&to=").concat(r,"&token=").concat(k),{json:!0},(function(e,n,o){if(e)s(e);else if("no_data"!==o.s){for(var i=o.t.length,r=[],d=0;d<i;d+=1)r=[].concat(Object(l.a)(r),[{time:1e3*o.t[d],low:o.l[d],high:o.h[d],open:o.o[d],close:o.c[d]}]);u&&C.set(t.displaySymbol,Object(c.a)({},r[r.length-1])),a(r,{noData:!1})}else a([],{noData:!0})}));case 4:case"end":return e.stop()}}),e)})));return function(t,n,o,i,r,a,s){return e.apply(this,arguments)}}(),searchSymbols:function(){var e=Object(p.a)(d.a.mark((function e(t,n,o,i){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("SEARCHED");case 1:case"end":return e.stop()}}),e)})));return function(t,n,o,i){return e.apply(this,arguments)}}(),subscribeBars:function(e,t,n,o,i){!function(e,t,n,o,i,r){var a={id:o,callback:n},s=S.get(e);s?s.handlers.push(a):(s={subscribeUID:o,resolution:t,lastDailyBar:r,handlers:[a]},S.set(e,s),console.log("[subscribeBars]: Subscribe to streaming symbol:",e),x.send(JSON.stringify({type:"subscribe",symbol:e})))}(e.ticker,t,n,o,0,C.get(e.ticker))},unsubscribeBars:function(e){!function(e){var t,n=Object(O.a)(S.keys());try{for(n.s();!(t=n.n()).done;){var o=t.value,i=S.get(o),r=i.handlers.findIndex((function(t){return t.id===e}));if(-1!==r&&(i.handlers.splice(r,1),0===i.handlers.length)){console.log("[unsubscribeBars]: Unsubscribe from streaming. Channel:",o),x.send(JSON.stringify({type:"unsubscribe",symbol:o})),S.delete(o);break}}}catch(a){n.e(a)}finally{n.f()}}(e)}},P=n(617),R=n(621),T=n(622);function E(){var e=new RegExp("[\\?&]lang=([^&#]*)").exec(window.location.search);return null===e?null:decodeURIComponent(e[1].replace(/\+/g," "))}var D={symbol:"AAPL",interval:"D",containerId:"tv_chart_container",datafeedUrl:"https://demo_feed.tradingview.com",libraryPath:"/charting_library/",chartsStorageUrl:"https://saveload.tradingview.com",chartsStorageApiVersion:"1.1",clientId:"tradingview.com",userId:"public_user_id",fullscreen:!1,autosize:!1,studiesOverrides:{}},F=null,L=null;function N(e){var t=e.symbol,n=e.prediction,i=e.didPredictionLookup,r=e.handleBackendPredictionLookup,a=U();return Object(o.useEffect)((function(){var e={symbol:t||D.symbol,datafeed:A,interval:D.interval,container_id:D.containerId,library_path:D.libraryPath,locale:E()||"en",disabled_features:["use_localstorage_for_settings","left_toolbar","header_symbol_search","display_market_status","header_screenshot","header_compare","header_indicators","compare_symbol","header_saveload","create_volume_indicator_by_default","control_bar","show_chart_property_page","countdown"],enabled_features:["study_templates"],charts_storage_url:D.chartsStorageUrl,charts_storage_api_version:D.chartsStorageApiVersion,client_id:D.clientId,user_id:D.userId,fullscreen:D.fullscreen,autosize:D.autosize,studies_overrides:D.studiesOverrides};if(L=new j(e),!1!==i||F||b(t,r),n&&(F||(F=n,console.log("prediction set"),console.log(F))),null!==F&&null!==L){var o=(new Date).getTime()/1e3,a=function(e){var t=e.split("/");return e=t[2]+"-"+t[0]+"-"+t[1],new Date(e).getTime()/1e3}(F.prediction_date);L.onChartReady((function(){var e=L.chart(),t=e.getVisibleRange(),n=t.from;t.to;e.setVisibleRange({from:n,to:a});try{e.createMultipointShape([{time:o,channel:"close"},{time:a,price:F.upper_value,channel:"close"}],{shape:"trend_line",lock:!0,overrides:{linecolor:"#00ff00",linestyle:2}},null)}catch(i){console.log(i)}try{e.createMultipointShape([{time:o,channel:"close"},{time:a,price:F.lower_value,channel:"close"}],{shape:"trend_line",lock:!0,overrides:{linecolor:"#ff0000",linestyle:2}},null)}catch(i){console.log(i)}try{e.createMultipointShape([{time:o,channel:"close"},{time:a,price:F.future_value,channel:"close"}],{shape:"trend_line",lock:!0,overrides:{linecolor:"#000000",linestyle:2}},null)}catch(i){console.log(i)}}))}return function(){null!==L&&(L.remove(),L=null),F=null}}),[n]),Object(w.jsx)("div",{children:Object(w.jsx)(P.a,{className:a.root,children:Object(w.jsx)(R.a,{className:a.content,children:Object(w.jsx)("div",{id:D.containerId,className:"TVChartContainer"})})})})}var U=Object(T.a)({root:{marginTop:"15px"},content:{borderRadius:"50px"}});function B(e){var t=Object(o.useState)([]),n=Object(h.a)(t,2),i=n[0],r=n[1],a=Object(o.useState)([]),s=Object(h.a)(a,2),c=s[0],u=s[1],d=Object(o.useState)(!1),p=Object(h.a)(d,2),f=p[0],b=p[1],m=Object(o.useState)(!1),g=Object(h.a)(m,2),v=(g[0],g[1]),y=Object(o.useState)(null),j=Object(h.a)(y,2),O=j[0],k=j[1],x=Object(o.useState)(!1),S=Object(h.a)(x,2),C=S[0],I=S[1],A=function(e,t){if(200===t){var n=e.prediction,o=null!==n?{future_value:n.future_value,upper_value:n.upper_value,lower_value:n.lower_value,prediction_date:e.prediction_date}:null;k(o),v(!0),I(!0)}else alert("Unable to find prediction")};return Object(o.useEffect)((function(){var t=Object(l.a)(e.newStocks).concat(i);t.length!==c.length&&u(t)}),[e.newStocks,c,i]),Object(o.useEffect)((function(){if(!1===f){_("POST","/stocks/",(function(e,t){200===t?(r(Object(l.a)(e)),b(!0)):alert("Error, status:",t)}))}}),[i,f,b]),Object(w.jsx)("div",{children:null!==c&&c.map((function(e,t){return Object(w.jsx)(te,{stock:e,length:c.length,didPredictionLookup:C,prediction:O,handleBackendPredictionLookup:A},t)}))})}var W=n(623),z=n(624),H=n(650),M=n(626),q=n(627),J=n(628),V=n(629),X=Object(T.a)((function(e){return{button:{background:"linear-gradient(180deg, #FE6B8B 30%, #E8A87C 90%)",margin:"5px",borderRadius:"50px","&:hover":{background:"linear-gradient(180deg, #FE6B8B 0%, #E8A87C 0%)"}},dialog:{justifyContent:"center"}}})),Y=i.a.forwardRef((function(e,t){return Object(w.jsx)(W.a,Object(c.a)({direction:"up",ref:t},e))}));function G(e){var t=X(),n=e.ticker,o=e.isTracking,r=e.predict,a=e.handleActionBackend,s=i.a.useState(!1),c=Object(h.a)(s,2),l=c[0],u=c[1],d=function(){u(!1)},p=function(e){u(!1),e.preventDefault(),f(n,r,a)};return 1==o?Object(w.jsxs)("div",{children:[Object(w.jsx)(z.a,{variant:"contained",className:t.button,onClick:function(){u(!0)},children:"Remove"}),Object(w.jsxs)(H.a,{open:l,TransitionComponent:Y,keepMounted:!0,onClose:d,"aria-labelledby":"alert-title","aria-describedby":"alert-description",children:[Object(w.jsx)(M.a,{id:"alert-title",children:"Remove stock?"}),Object(w.jsx)(q.a,{children:Object(w.jsx)(J.a,{id:"alert-description",children:"Are you sure you want to remove this stock? Doing so will remove it from your list of tracked stocks."})}),Object(w.jsxs)(V.a,{className:t.dialog,children:[Object(w.jsx)(z.a,{variant:"contained",className:t.button,onClick:p,children:"Remove"}),Object(w.jsx)(z.a,{variant:"contained",className:t.button,onClick:d,children:"Cancel"})]})]})]}):Object(w.jsx)("div",{children:Object(w.jsx)(z.a,{variant:"contained",className:t.button,onClick:p,children:"Add"})})}function $(e){var t=X(),n=e.ticker,o=e.isTracking,i=e.predict,r=e.handleActionBackend,a=function(e){e.preventDefault(),f(n,i,r)},s=!0===o?"Remove":"Add";return!0===i?Object(w.jsx)(z.a,{variant:"contained",className:t.button,onClick:a,children:"Predict"}):Object(w.jsxs)(z.a,{variant:"contained",className:t.button,onClick:a,children:[" ",s," "]})}var K=n(630),Z=n(631),Q=n(37),ee=n(651);function te(e){var t=e.stock,n=e.length,i=e.didPredictionLookup,r=e.prediction,a=e.handleBackendPredictionLookup,s=Object(o.useState)(1),c=Object(h.a)(s,2),l=c[0],u=c[1],_=Object(o.useState)(1),f=Object(h.a)(_,2),m=f[0],g=f[1],v=Object(o.useState)(0),y=Object(h.a)(v,2),j=y[0],O=y[1],x=Object(o.useState)(null),S=Object(h.a)(x,2),C=S[0],I=S[1],A=ne(),T=function(){var e=Object(p.a)(d.a.mark((function e(){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://finnhub.io/api/v1/quote?symbol=".concat(t.ticker,"&token=").concat(k));case 2:return e.next=4,e.sent.json();case 4:n=e.sent,console.log("Filled",n),g(n.o),u(n.c),O((l-m)/m);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(o.useEffect)((function(){!1!==i||C||b(t.ticker,a),r&&!C&&I(r);var e=setInterval((function(){T()}),5e3*n);return function(){I(null),clearInterval(e)}}),[i,a,r]),Object(w.jsx)(K.a,{container:!0,spacing:0,direction:"column",alignItems:"center",justify:"space-evenly",children:Object(w.jsxs)(P.a,{className:A.root,children:[Object(w.jsx)(Z.a,{className:A.header,title:t.company_name,subheader:t.ticker}),Object(w.jsx)(R.a,{children:Object(w.jsxs)(K.a,{container:!0,direction:"row",alignContent:"flex-start",justify:"space-evenly",children:[Object(w.jsxs)(K.a,{item:!0,direction:"column",alignItems:"flex-start",justify:"space-evenly",children:[Object(w.jsxs)(Q.a,{children:["Current Price: ",1!=l?l.toFixed(2):"Loading..."]}),Object(w.jsxs)(Q.a,{children:["Percent Change: (",j>=0&&"+",(100*j).toFixed(2),"%)"]})]}),Object(w.jsx)(K.a,{item:!0,direction:"center",alignItems:"flex-end",justify:"space-evenly",children:Object(w.jsx)(z.a,{className:A.button,variant:"contained",onClick:function(e){e.preventDefault(),window.location.href="/stocks/".concat(t.ticker.toUpperCase())},children:"Details"})})]})})]})})}var ne=Object(T.a)({root:{background:"linear-gradient(180deg, #FE6B8B 30%, #E8A87C 90%)",marginTop:"5px",marginBottom:"5px",borderRadius:"50px",width:425},header:{textAlign:"center"},prediction:{background:"linear-gradient(180deg, #FE6B8B 30%, #E8A87C 90%)",marginLeft:"5px"},button:{backgroundColor:"white",color:"black",borderRadius:"50px"}});function oe(e){var t=e.tickerinit,n=Object(o.useState)(!1),i=Object(h.a)(n,2),r=i[0],a=i[1],s=Object(o.useState)(null),c=Object(h.a)(s,2),l=c[0],u=c[1],d=Object(o.useState)(!1),p=Object(h.a)(d,2),f=p[0],b=p[1],m=Object(o.useState)(!1),g=Object(h.a)(m,2),v=(g[0],g[1]),y=Object(o.useState)(null),j=Object(h.a)(y,2),O=j[0],k=j[1],x=Object(o.useState)(!1),S=Object(h.a)(x,2),C=S[0],I=S[1],A=function(e,t){200===t?(u(e.ticker),b(e.is_tracking)):alert("Error finding stock")},P=function(e,t){if(200===t){var n=e.prediction,o=null!==n?{future_value:n.future_value,upper_value:n.upper_value,lower_value:n.lower_value,prediction_date:e.prediction_date}:null;k(o),v(!0),I(!0)}else alert("Unable to find prediction")},R=function(e,t){if(200===t&&f)b(!1),v(!1),k(null),u(e.ticker);else if(200!==t||f)if(201===t&&f){var n=e.prediction,o={future_value:n.future_value,upper_value:n.upper_value,lower_value:n.lower_value,prediction_date:e.prediction_date};k(o),v(!0)}else alert("cant add/remove, status:",t);else b(!0)};return Object(o.useEffect)((function(){!1===r&&(!function(e,t){_("GET","/stocks/".concat(e),t)}(t,A),a(!0))}),[t,r,a]),null===l?null:Object(w.jsx)("div",{children:Object(w.jsxs)(K.a,{container:!0,direction:"column",justify:"center",alignItems:"center",children:[Object(w.jsx)(N,{symbol:l,didPredictionLookup:C,prediction:O,handleBackendPredictionLookup:P,className:e.className}),Object(w.jsx)(ie,{ticker:l,didPredictionLookup:C,prediction:O,handleBackendPredictionLookup:P}),Object(w.jsxs)(K.a,{container:!0,direction:"row",alignItems:"center",justify:"center",children:[Object(w.jsx)(G,{ticker:l,predict:!1,isTracking:f,handleActionBackend:R}),f&&Object(w.jsx)($,{ticker:l,predict:!0,isTracking:f,handleActionBackend:R})]})]})})}function ie(e){var t=e.ticker,n=e.prediction,i=e.didPredictionLookup,r=e.handleBackendPredictionLookup,a=ne();return Object(o.useEffect)((function(){i||b(t,r)})),null!==n?Object(w.jsxs)("div",{className:"mb-1",children:[Object(w.jsx)("p",{}),Object(w.jsx)(ee.a,{label:"Predicted Price: $"+n.future_value.toFixed(2),className:a.prediction}),Object(w.jsx)(ee.a,{label:"Range: $"+n.lower_value.toFixed(2)+" to $"+n.upper_value.toFixed(2),className:a.prediction}),Object(w.jsx)(ee.a,{label:"Date: "+n.prediction_date,className:a.prediction})]}):null}var re=n(112),ae=n(647),se=n(12),ce=n(648);function le(e){ue();var t=Object(o.useState)(void 0),n=Object(h.a)(t,2),i=n[0],r=n[1],a=Object(o.useState)([]),s=Object(h.a)(a,2),u=s[0],d=s[1],p=function(e,t){e&&"change"===e.type?(console.log("TYPED: ",e.target.value),r(e.target.value)):(console.log("AUTO SEARCH: ",t),r(t)),console.log("SEARCHTERM: ",i)},f=function(e,t){200===t?(d(Object(l.a)(e)),console.log("SEARCH RESULTS: ",u)):403===t?alert("Unauthorized, must login to access"):alert("Error finding stock, status:",t)};return Object(o.useEffect)((function(){!function(e,t){_("POST","/stocks/search",t,{searchTerm:e})}(i,f)}),[i]),Object(w.jsx)("form",{style:{padding:"0px 10% 0px 10%",width:"75%"},onSubmit:function(e){console.log("SEARCH SUBMIT: ",e),console.log(i),e.preventDefault();var t=i.match(/([^-]+) - .*/);0!==t.length?window.location.href="/stocks/".concat(t[1].toUpperCase()):window.location.href="/stocks/".concat(i.toUpperCase())},children:Object(w.jsx)(ce.a,{id:"demo",value:i,freeSolo:!0,options:u.map((function(e){return e.ticker+" - "+e.company_name})),getOptionLabel:function(e){return e},getOptionSelected:function(e,t){return e===t.ticker},onChange:p,onInputChange:function(e){return p(e,void 0)},renderInput:function(e){return Object(w.jsx)(ae.a,Object(c.a)(Object(c.a)({},e),{},{label:"Ticker",margin:"normal",variant:"outlined"}))}})})}var ue=Object(T.a)((function(e){return{search:Object(re.a)({position:"relative",borderRadius:"50px",backgroundColor:Object(se.c)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(se.c)(e.palette.common.white,.25)},marginLeft:0,width:"50%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(1),width:"50%"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit",width:"100%"},inputInput:{padding:e.spacing(3,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"}}})),de=(n(645),n(646),n(634)),pe=n(635),he=n(636),_e=n(632),fe=n(633),be=n(638),me=n(639),ge=n(640),ve=n(641),ye=n(643),je=n(644),Oe=n(637),we=n(642),ke=(n(580),n(58),[{title:"Profile",path:"/profile"},{title:"Logout",path:"/logout"}]),xe=Object(T.a)((function(e){return{colorScheme:{background:"linear-gradient(180deg, #FE6B8B 30%, #E8A87C 90%)"},navDisplayFlex:{display:"flex",justifyContent:"center",alignItems:"center"},navbarDisplayFlex:{display:"flex",justifyContent:"space-between"},linkText:{marginTop:"5px",textDecoration:"none",textTransform:"none",color:"white","&:hover":{color:"white",textDecoration:"none"}},scrollTop:{position:"fixed",bottom:e.spacing(2),right:e.spacing(2)},toolbar:{marginBottom:"5px"}}}));function Se(e){var t=e.children,n=Object(ye.a)({disableHysteresis:!0,threshold:0});return i.a.cloneElement(t,{elevation:n?4:0})}function Ce(e){var t=e.children,n=e.window,o=xe(),i=Object(ye.a)({target:n?n():void 0,disableHysteresis:!0,threshold:100});return Object(w.jsx)(je.a,{in:i,children:Object(w.jsx)("div",{onClick:function(e){var t=(e.target.ownerDocument||document).querySelector("#back-to-top-anchor");t&&t.scrollIntoView({behavior:"smooth",block:"center"})},role:"presentation",className:o.scrollTop,children:t})})}var Ie=i.a.createElement,Ae=document.getElementById("navbar");Ae&&a.a.render(Ie((function(e){var t=xe();return Object(w.jsxs)(i.a.Fragment,{children:[Object(w.jsx)(de.a,{id:"back-to-top-anchor"}),Object(w.jsx)(Se,Object(c.a)(Object(c.a)({},e),{},{children:Object(w.jsx)(pe.a,{className:t.colorScheme,children:Object(w.jsx)(de.a,{className:t.toolbar,id:"back-to-top-anchor",children:Object(w.jsxs)(he.a,{maxWidth:"xl",className:t.navbarDisplayFlex,children:[Object(w.jsx)(_e.a,{href:"/",className:t.linkText,edge:"start",color:"inherit","aria-label":"home",children:Object(w.jsx)(Oe.a,{fontSize:"large"})}),Object(w.jsx)(le,{}),Object(w.jsx)(fe.a,{component:"nav","aria-labelledby":"main navigation",className:t.navDisplayFlex,children:ke.map((function(e){var n=e.title,o=e.path;return Object(w.jsx)(be.a,{href:o,className:t.linkText,underline:"always",children:Object(w.jsx)(me.a,{button:!0,children:Object(w.jsx)(ge.a,{primary:n})})},n)}))})]})})})})),Object(w.jsx)(Ce,Object(c.a)(Object(c.a)({},e),{},{children:Object(w.jsx)(ve.a,{className:t.colorScheme,size:"small","aria-label":"scroll back to top",children:Object(w.jsx)(we.a,{})})})),Object(w.jsx)("br",{})]})}),Ae.dataset),Ae);var Pe=document.getElementById("stocks-list");Pe&&a.a.render(Ie((function(e){var t=Object(o.useState)([]),n=Object(h.a)(t,2),i=n[0];return n[1],Object(w.jsxs)("div",{className:e.className,children:[Object(w.jsx)(B,Object(c.a)({newStocks:i},e)),Object(w.jsx)("br",{})]})}),Pe.dataset),Pe),document.querySelectorAll(".stock-detail").forEach((function(e){a.a.render(Ie(oe,e.dataset),e)})),s()}},[[581,1,2]]]);
//# sourceMappingURL=main.ab020f34.chunk.js.map